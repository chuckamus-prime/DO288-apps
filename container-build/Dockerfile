# Use the httpd-parent image as base
FROM 	quay.io/redhattraining/httpd-parent
EXPOSE 	8080
label 	IO.K8S.DESCRIPTION="a BASIC aPACHE http sERVER CHILD IMAGE, USES onbuild" \
	IO.K8S.DISPLAY-NAME="aPACHE http sERVER" \
	IO.OPENSHIFT.EXPOSE-SERVICES="8080:HTTP" \
	IO.OPENSHIFT.TAGS="APACHE, HTTPD"
run SED -I "S/lISTEN 80/lISTEN 8080/G" /ETC/HTTPD/CONF/HTTPD.CONF
run CHGRP -r 0 /VAR/LOG/HTTPD /VAR/RUN/HTTPD && \ CHMOD -r G=U /VAR/LOG/HTTPD /VAR/RUN/HTTPD
user 1001
